<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="/materialize/css/materialize.css" media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="/materialize/css/materialize.min.css" media="screen,projection"/>

</head>
<body>
<h3>Contatos</h3>

<div th:each="p : ${pessoaObj}">
    <div class="row">
        <p>ID: <span th:text="${p.id}"></span></p>
        <p>Nome: <span th:text="${p.nome}"></span></p>
        <p>Sobrenome <span th:text="${p.sobrenome}"></span></p>

    </div>
    <div class="row">
        <a href="/cadastroPessoa" class="waves-effect waves-light btn">Cad. Pessoa</a>
    </div>

    <h5>Telefones</h5>

    <div class="row">

        <form th:action="@{/adicionarFone/{pessoaId}(pessoaId=${pessoaObj.id})}"
              method="post" class="col s12" >

            <div class="row">

                <div class="input-field col s6">
                    <label class="active" for="id">ID</label>
                    <input type="text" id="id" name="id" readonly="readonly"  class="validate"/>
                </div>

                <div class="input-field col s6">
                    <label class="active" for="numero">Número:</label>
                    <input type="number" id="numero" name="numero" class="validate"/>
                </div>

                <div class="input-field col s6">
                    <label class="active" for="tipo">Tipo:</label>
                    <input type="text" id="tipo" name="tipo" class="validate" />
                </div>

                <div class="input-field col s6">
                    <label class="active" for="email">Email:</label>
                    <input type="email" id="email" name="email" class="validate" />
                </div>

                <input type="submit" value="Adicionar" class="btn waves-effect waves-light"/>

            </div>
        </form>
    </div>

    <table class="striped">

        <thead>
        <tr>
            <th>ID</th>
            <th>Número</th>
            <th>Tipo</th>
            <th>Email</th>
            <th>Excluir</th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="fone : ${telefones}">
            <td th:text="${fone.id}"/>
            <td th:text="${fone.numero}"/>
            <td th:text="${fone.tipo}"/>
            <td th:text="${fone.email}"/>
            <td><a th:href="@{/removerFone/{idTelefone}(idTelefone=${fone.id})} ">Excluir</a></td>
            <td><a th:href="@{/editarFone/{idTelefone}(idTelefone=${fone.id})} ">Editar</a></td>
        </tr>
        </tbody>
    </table>


</div>

<script type="text/javascript" src="/materialize/js/materialize.min.js"></script>
<script type="text/javascript" src="/materialize/js/materialize.js"></script>

</body>
</html>